{% extends 'base.html' %}

{% block title %}ãƒ•ãƒ¬ãƒ³ãƒ‰ã®ç”Ÿå‘½ä½“ - Moon Tasker{% endblock %}

{% block content %}
<a href="/friends" class="text-muted mb-4" style="display: inline-block;">â† ãƒ•ãƒ¬ãƒ³ãƒ‰ä¸€è¦§ã«æˆ»ã‚‹</a>

<h1 class="page-title">{{ friend_profile.nickname or 'åç„¡ã—' }}ã•ã‚“ã®ç”Ÿå‘½ä½“</h1>

{% if friend_creature %}
<div class="card text-center" style="padding: 40px;">
    {% if creature_image %}
    <img src="{{ creature_image }}" alt="ç”Ÿå‘½ä½“" style="width: 150px; height: 150px; object-fit: contain; margin: 0 auto;">
    {% else %}
    <span style="font-size: 80px; display: block;">ğŸ¥š</span>
    {% endif %}

    <h2 style="font-size: 24px; font-weight: 700; margin-top: 16px;">{{ friend_creature.name }}</h2>
    <p class="text-muted">Lv.{{ friend_creature.evolution_stage }}</p>

    <div class="mt-4">
        <div class="flex justify-between text-sm text-muted mb-2">
            <span>æ©Ÿå«Œ</span>
            <span>{{ friend_creature.mood }}%</span>
        </div>
        <div class="progress-bar" style="max-width: 300px; margin: 0 auto;">
            <div class="progress-bar-fill 
                {% if friend_creature.mood >= 70 %}mood-high
                {% elif friend_creature.mood >= 40 %}mood-medium
                {% else %}mood-low{% endif %}" style="width: {{ friend_creature.mood }}%;"></div>
        </div>
    </div>
</div>

<div class="card">
    <h3 class="section-title">ğŸ“Š ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</h3>
    <div class="stats-grid">
        <div class="stat-card">
            <p class="stat-value purple">{{ friend_creature.evolution_stage }}</p>
            <p class="stat-label">é€²åŒ–æ®µéš</p>
        </div>
        <div class="stat-card">
            <p class="stat-value green">{{ friend_creature.energy }}</p>
            <p class="stat-label">ã‚¨ãƒãƒ«ã‚®ãƒ¼</p>
        </div>
    </div>
</div>

{% else %}
<div class="card text-center" style="padding: 48px;">
    <span style="font-size: 64px;">ğŸŒ™</span>
    <p class="text-muted mt-4">ã“ã®ãƒ•ãƒ¬ãƒ³ãƒ‰ã¯ã¾ã ç”Ÿå‘½ä½“ã‚’è‚²ã¦ã¦ã„ã¾ã›ã‚“</p>
</div>
{% endif %}
{% endblock %}